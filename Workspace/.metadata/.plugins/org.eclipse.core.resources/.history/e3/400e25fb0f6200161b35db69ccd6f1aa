package algo.trie;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;

class Data {
	public double price;
	public long id;
	public String category;

	public Data(double price, long id, String category) {
		super();
		this.price = price;
		this.id = id;
		this.category = category;
	}

	@Override
	public String toString() {
		return "Data [price=" + price + ", id=" + id + ", category=" + category
				+ "]";
	}

}

public class CatalogUsingTrie {
	private static class TrieNode {
		Map<Character, TrieNode> children;
		boolean isEnd;
		Data data;
		public TrieNode() {
			children = new HashMap<Character, TrieNode>();
			isEnd = false;
		}
	}

	private static class Trie {
		private TrieNode root;

		public Trie() {
			root = new TrieNode();
		}

		public void insert(String word) {
			TrieNode crawl = root;
			for (int i = 0; i < word.length(); i++) {
				if (!crawl.children.containsKey(word.charAt(i)))
					crawl.children.put(word.charAt(i), new TrieNode());
				crawl = crawl.children.get(word.charAt(i));
			}
			crawl.isEnd = true;
		}

		public boolean search(String word) {
			TrieNode crawl = root;
			for (int i = 0; i < word.length(); i++) {
				if (!crawl.children.containsKey(word.charAt(i)))
					return false;
				crawl = crawl.children.get(word.charAt(i));
			}
			return crawl.isEnd;
		}

		public boolean startsWith(String prefix) {
			TrieNode crawl = root;
			for (int i = 0; i < prefix.length(); i++) {
				if (!crawl.children.containsKey(prefix.charAt(i)))
					return false;
				crawl = crawl.children.get(prefix.charAt(i));
			}
			return true;
		}
	}
}
