import java.util.Scanner;

public class Sol {

	public static void main(String[] args) {
		Scanner sc = new Scanner(System.in);

		int tst = sc.nextInt();
		while (tst > 0) {
			int l = sc.nextInt();
			int r = sc.nextInt();
			int mask = 3;
			switch (l&mask) {
			case 1:
				findSum(1, l, r);

				break;
			case 2:
				findSum(l+1, l, r);

				break;
			case 3:
				findSum(0, l, r);

				break;
			case 4:
				findSum(l, l, r);

				break;
					
			}
			tst--;
		}

	}

	private static void findSum(int i, int l, int r) {
		int sum = 0;
		while (r >= 0) {
			sum += i;
			i ^= (++l);
			r--;
		}
	}

}